model restore 'first_solve.f3sav'

zone gridpoint initialize displacement-x 0
zone gridpoint initialize displacement-y 0
zone gridpoint initialize displacement-z 0
zone gridpoint initialize velocity-x 0
zone gridpoint initialize velocity-y 0
zone gridpoint initialize velocity-z 0
zone initialize-stresses

zone group 'fq1' slot 'default' range position-x 390 463 position-z 365 389 
zone group 'fq2' slot 'default' range position-x 463 530 position-z 362 386
zone group 'fq3' slot 'default' range position-x 530 596 position-z 359 383 
zone group 'fq4' slot 'default' range position-x 596 663 position-z 356 380  
zone group 'fq5' slot 'default' range position-x 664 730 position-z 354 378  
zone group 'fq6' slot 'default' range position-x 731 797 position-z 350 374  
zone group 'fq8' slot 'default' range position-x 798 860 position-z 347 371 
zone group 'fq9' slot 'default' range position-x 860 931 position-z 342 366
zone group 'fq10' slot 'default' range position-x 932 1000 position-z 336 360

zone group 'fanqing' range group 'fq1'  slot 'default' union group 'fq2'  slot 'default' ...
     union group 'fq3'  slot 'default' union group 'fq4'  slot 'default' union group 'fq5'  slot 'default' ...
     union group 'fq6'  slot 'default' union group 'fq7'  slot 'default' union group 'fq8'  slot 'default' ...
     union group 'fq9'  slot 'default' union group 'fq10' slot 'default' 

zone cmodel assign null range group 'L1'  slot 'default' union group 'L2' slot 'default' 
zone cmodel assign mohr-coulomb range group 'block1'  slot 'default' union group 'block2' slot 'default'  ...
     union group 'block3' slot 'default'  union group 'block4' slot 'default'  ...
     union group 'block5' slot 'default'  union group 'block6' slot 'default'  ...
     union group 'block7' slot 'default'  union group 'jiaceng' slot 'default' ...
     union group 'fanqing' slot 'default' 

zone property young 2200e6 poisson 0.35 density 2100 cohesion 1415e3 friction 33 tension 526e3 range group 'block1'  slot 'default' 
zone property young 2000e6 poisson 0.28 density 2200 cohesion 1179e3 friction 33 tension 438e3 range group 'block2'  slot 'default' 
zone property young 1500e6 poisson 0.28 density 2200 cohesion 943e3  friction 33 tension 350e3 range group 'block3'  slot 'default' 
zone property young 750e6  poisson 0.30 density 2160 cohesion 235e3  friction 29 tension 81e3  range group 'block4'  slot 'default' 
zone property young 500e6  poisson 0.32 density 2030 cohesion 235e3  friction 29 tension 81e3  range group 'block5'  slot 'default' 
zone property young 300e6  poisson 0.32 density 2030 cohesion 235e3  friction 31 tension 84e3  range group 'block6'  slot 'default' 
zone property young 300e6  poisson 0.35 density 2030 cohesion 235e3  friction 31 tension 84e3  range group 'block7'  slot 'default' 
zone property young 300e6  poisson 0.32 density 1800 cohesion 23e3   friction 27 tension 7.7e3 range group 'jiaceng' slot 'default' 
zone property young 250e6  poisson 0.30 density 1800 cohesion 94e3   friction 22 tension 35e3  range group 'fanqing' slot 'default' 

zone list gridpoint

zone group 'G0' slot '1' range position-x 550 570 position-z  305 330 
zone group 'G1' slot '1' range position-x 570 600 position-z  325 350 
zone group 'G2' slot '1' range position-x 600 620 position-z  335 360 
zone group 'G3' slot '1' range position-x 620 640 position-z  345 365 
zone group 'G4' slot '1' range position-x 635 655 position-z  355 380 
zone group 'G5' slot '1' range position-x 645 675 position-z  375 400 
zone group 'G6' slot '1' range position-x 665 685 position-z  395 415 
zone group 'G7' slot '1' range position-x 675 700 position-z  415 440  
zone group 'G8' slot '1' range position-x 695 715 position-z  435 474
zone group 'GH' range group 'G0'  slot '1' union group 'G1' slot '1' union group 'G2' slot '1' union group 'G3' slot '1'  union group 'G4' slot '1'  ...
        union group 'G5' slot '1'  union group 'G6' slot '1' union group 'G7' slot '1' union group 'G8' slot '1'
        

model save 'material_assignment.f3sav'